<div class="demo-ribbon"></div>
<main class="demo-main mdl-layout__content">
  <div class="demo-container mdl-grid">
    <div class="mdl-cell mdl-cell--3-col mdl-cell--hide-tablet mdl-cell--hide-phone"></div>
    <div class="demo-content mdl-color--white mdl-shadow--4dp content mdl-color-text--grey-800 mdl-cell mdl-cell--8-col mdl-cell--3-col-phone">

        <h3 data-ui-field="title">Scan Inventory</h3>
        <h5 data-ui-field="subtitle">Scan barcode</h5>
        <span class="iconify" data-icon="mdi:barcode-scan" data-inline="false"></span>
        <video id="preview"></video>
        <h5 data-ui-field="subtitle">OR</h5>
        <form action="#">
          <div data-ui-field="textfield" class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
            <input class="mdl-textfield__input" type="text" pattern="-?[0-9]*(\.[0-9]+)?" id="sample4">
            <label class="mdl-textfield__label" for="sample4">Input barcode</label>
            <span class="mdl-textfield__error">Input is not a number!</span>
          </div>
        </form>
        <button data-ui-field="button" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent">
           Scan item
        </button>

    </div>
    
</div>
<script src="/js/instascan.min.js"></script>
<script type="text/javascript">
  let scanner = new Instascan.Scanner({ video: document.getElementById('preview') });
  scanner.addListener('scan', function (content) {
    console.log(content);
  });
  Instascan.Camera.getCameras().then(function (cameras) {
    if (cameras.length > 0) {
      scanner.start(cameras[0]);
    } else {
      console.error('No cameras found.');
    }
  }).catch(function (e) {
    console.error(e);
  });
</script>
</main>
